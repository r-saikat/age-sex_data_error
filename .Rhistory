setwd("~/Harihar_Sahoo_assgn/age-sex_data_error")
library(readxl)
wbagesexdata <- read_excel("DDW-1900C-13.xls",
range = "E9:H109", col_names = FALSE)
View(wbagesexdata)
colnames(wbagesexdata) <- c("age","total","male","female")
View(wbagesexdata)
class(wbagesexdata)
knitr::opts_chunk$set(echo = FALSE)
wbagesexdata = as.data.frame(wbagesexdata)
class(wbagesexdata)
wbagesexdata
library(ggplot2)
linc <- ggplot(data=wbagesexdata, aes(x=age, y=population, group=3)) + geom_line() + geom_point()
linc
linc <- ggplot(data=wbagesexdata, aes(x=age, y=total, group=1)) + geom_line() + geom_point()
linc
wbagesexdata <- read_excel("DDW-1900C-13.xls",
+     range = "E9:H109", col_names = FALSE)
colnames(wbagesexdata) <- c("age","total","male","female")
wbagesexdata = as.data.frame(wbagesexdata)
library(ggplot2)
linc <- ggplot(data=wbagesexdata, aes(x=age, y=total, group=1)) + geom_line() + geom_point()
linc
wbagesexdata$age = as.factor(wbagesexdata$age)
library(ggplot2)
linc <- ggplot(data=wbagesexdata, aes(x=age, y=total, group=1)) + geom_line() + geom_point()
linc
wbagesexdata <- read_excel("DDW-1900C-13.xls",
+     range = "E9:H109", col_names = FALSE)
colnames(wbagesexdata) <- c("age","total","male","female")
wbagesexdata = as.data.frame(wbagesexdata)
wbagesexdata$age = as.character(wbagesexdata$age)
wbagesexdata$age = factor(wbagesexdata$age, levels = unique(wbagesexdata$age))
library(ggplot2)
linc <- ggplot(data=wbagesexdata, aes(x=age, y=total, group=1)) + geom_line() + geom_point()
linc
library(readxl)
wbagesexdata <- read_excel("DDW-1900C-13.xls",
range = "E9:H109", col_names = FALSE)
linc <- ggplot(data=wbagesexdata, aes(x=age, y=total)) + geom_line() + geom_point() #+ #scale_x_discrete(breaks = wbagesexdata$age[c(T,F,F,F,F)])
linc
library(readxl)
wbagesexdata <- read_excel("DDW-1900C-13.xls",
range = "E9:H109", col_names = FALSE)
colnames(wbagesexdata) <- c("age","total","male","female")
wbagesexdata = as.data.frame(wbagesexdata)
wbagesexdata$age = as.character(wbagesexdata$age)
wbagesexdata$age = factor(wbagesexdata$age, levels = unique(wbagesexdata$age))
library(ggplot2)
linc <- ggplot(data=wbagesexdata, aes(x=age, y=total)) + geom_line() + geom_point() #+ #scale_x_discrete(breaks = wbagesexdata$age[c(T,F,F,F,F)])
linc
library(readxl)
range = "E9:H109", col_names = FALSE)
wbagesexdata <- read_excel("DDW-1900C-13.xls",
range = "E9:H109", col_names = FALSE)
colnames(wbagesexdata) <- c("age","total","male","female")
wbagesexdata = as.data.frame(wbagesexdata)
wbagesexdata$age = as.character(wbagesexdata$age)
wbagesexdata$age = factor(wbagesexdata$age, levels = unique(wbagesexdata$age))
library(ggplot2)
linc <- ggplot(data=wbagesexdata, aes(x=age, y=total, group=1)) + geom_line() + geom_point()
linc
linc <- ggplot(data=wbagesexdata, aes(x=age, y=total, group=1)) + geom_line() + geom_point() + scale_x_discrete(breaks = wbagesexdata$age[c(T,F,F,F,F)])
linc
linc <- ggplot(data=wbagesexdata, aes(age)) + geom_line(aes(y = total, colour="total")) + geom_line(aes(y = male, colour = "male")) + geom_point() + scale_x_discrete(breaks = wbagesexdata$age[c(T,F,F,F,F)])
linc
linc <- ggplot(data=wbagesexdata, aes(age)) + geom_line(aes(y = total, colour="total")) + geom_line(aes(y = male, colour = "male")) + geom_point(aes(y = total, colour="total")) + scale_x_discrete(breaks = wbagesexdata$age[c(T,F,F,F,F)])
linc
+ geom_line(aes(y = total, colour="total")) + geom_line(aes(y = male, colour = "male"))
linc <- ggplot(data=wbagesexdata, aes(age))
+ geom_line(aes(y = total, colour="total")) + geom_line(aes(y = male, colour = "male"))
+ geom_point(aes(y = total, colour="total"))
+ scale_x_discrete(breaks = wbagesexdata$age[c(T,F,F,F,F)])
linc <- ggplot(data=wbagesexdata, aes(age)) +
geom_line(aes(y = total, colour="total")) + geom_line(aes(y = male, colour = "male")) +
geom_point(aes(y = total, colour="total")) +
scale_x_discrete(breaks = wbagesexdata$age[c(T,F,F,F,F)])
linc
library(readxl)
wbagesexdata <- read_excel("DDW-1900C-13.xls",
range = "E9:H109", col_names = FALSE)
colnames(wbagesexdata) <- c("age","total","male","female")
wbagesexdata = as.data.frame(wbagesexdata)
wbagesexdata$age = as.character(wbagesexdata$age)
wbagesexdata$age = factor(wbagesexdata$age, levels = unique(wbagesexdata$age))
library(ggplot2)
linc <- ggplot(data=wbagesexdata, aes(age)) +
geom_line(aes(y = total, colour="total")) + geom_line(aes(y = male, colour = "male")) +
geom_point(aes(y = total, colour="total")) +
scale_x_discrete(breaks = wbagesexdata$age[c(T,F,F,F,F)])
linc
linc <- ggplot(data=wbagesexdata, aes(age)) +
geom_line(aes(y = total, colour="black")) + geom_line(aes(y = male, colour = "male")) +
geom_point(aes(y = total, colour="total")) +
scale_x_discrete(breaks = wbagesexdata$age[c(T,F,F,F,F)])
linc
linc <- ggplot(data=wbagesexdata, aes(age)) +
geom_line(aes(y = total, colour="total")) + geom_line(aes(y = male, colour = "male")) +
geom_point(aes(y = total, colour="total")) +
scale_x_discrete(breaks = wbagesexdata$age[c(T,F,F,F,F)])
linc
linc <- ggplot(data=wbagesexdata, aes(age)) +
geom_line(aes(y = wbagesexdata$total, colour="total")) + geom_line(aes(y = wbagesexdata$male, colour = "male")) +
geom_point(aes(y = total, colour="total")) +
scale_x_discrete(breaks = wbagesexdata$age[c(T,F,F,F,F)])
linc
linc <- ggplot(data=wbagesexdata, aes(age)) +
geom_line(aes(y = total, colour="total")) + geom_line(aes(y = male, colour = "male")) +
geom_point(aes(y = total, colour="total")) +
scale_x_discrete(breaks = wbagesexdata$age[c(T,F,F,F,F)])
linc
linc
linc
linc <- ggplot(data=wbagesexdata, aes(age)) +
geom_line(aes(y = total, colour="total")) #+ geom_line(aes(y = male, colour = "male")) #+
linc
mdf
wbagesexdata
set.seed(123)
library(ggplot2)
library(reshape2)
mdf <- melt(wbagesexdata, id.vars="age")
ggplot(mdf, aes( x=age, y=value, colour=variable, group=variable )) +
geom_line() +
scale_color_manual(values=c("total"="black","male"="red","female"="orange")) +
scale_linetype_manual(values=c("male"="solid","female"="solid","total"="dashed"))
ggplot(mdf, aes( x=age, y=value, colour=variable, group=variable )) +
geom_line() +
geom_point() +
scale_color_manual(values=c("total"="black","male"="red","female"="orange")) +
scale_linetype_manual(values=c("male"="solid","female"="solid","total"="dashed"))
ggplot(mdf, aes( x=age, y=value, colour=variable, group=variable )) +
geom_line() +
geom_point() +
scale_color_manual(values=c("total"="black","male"="red","female"="orange")) +
scale_linetype_manual(values=c("male"="solid","female"="solid","total"="dashed")) +
scale_x_discrete(breaks = wbagesexdata$age[c(T,F,F,F,F)])
library(readxl)
wbagesexdata <- read_excel("DDW-1900C-13.xls",
range = "E9:H109", col_names = FALSE)
colnames(wbagesexdata) <- c("age","total","male","female")
wbagesexdata = as.data.frame(wbagesexdata)
wbagesexdata$age = as.character(wbagesexdata$age)
wbagesexdata$age = factor(wbagesexdata$age, levels = unique(wbagesexdata$age))
#set.seed(123)
library(ggplot2)
library(reshape2)
mdf <- melt(wbagesexdata, id.vars="age")
linefig <- ggplot(mdf, aes( x=age, y=value, colour=variable, group=variable )) +
geom_line() +
geom_point() +
scale_color_manual(values=c("total"="black","male"="red","female"="orange")) +
scale_linetype_manual(values=c("male"="solid","female"="solid","total"="dashed")) +
scale_x_discrete(breaks = wbagesexdata$age[c(T,F,F,F,F)])
linefig
linefig <- ggplot(mdf, aes( x=age, y=value, colour=variable, group=variable )) +
geom_line() +
geom_point() +
scale_color_manual(values=c("total"="black","male"="red","female"="orange")) +
scale_linetype_manual(values=c("male"="solid","female"="solid","total"="dashed")) +
scale_x_discrete(breaks = wbagesexdata$age[c(T,F,F,F,F)]) +
ggtitle("Age-sex Population Distribution \n West Bengal (2011)")
linefig
linefig <- ggplot(mdf, aes( x=age, y=value, colour=variable, group=variable )) +
geom_line() +
geom_point() +
scale_color_manual(values=c("total"="black","male"="red","female"="orange")) +
scale_linetype_manual(values=c("male"="solid","female"="solid","total"="dashed")) +
scale_x_discrete(breaks = wbagesexdata$age[c(T,F,F,F,F)]) +
ggtitle("Age-sex Population Distribution \n West Bengal (2011)") +
theme(plot.title = element_text(hjust = 0.5))
library(reshape2)
mdf <- melt(wbagesexdata, id.vars="age")
linefig <- ggplot(mdf, aes( x=age, y=value, colour=variable, group=variable )) +
geom_line() +
geom_point() +
scale_color_manual(values=c("total"="black","male"="red","female"="orange")) +
scale_linetype_manual(values=c("male"="solid","female"="solid","total"="dashed")) +
scale_x_discrete(breaks = wbagesexdata$age[c(T,F,F,F,F)]) +
ggtitle("Age-sex Population Distribution \n West Bengal (2011)") +
theme(plot.title = element_text(hjust = 0.5))
linefig
linefig <- ggplot(mdf, aes( x=age, y=value, colour=variable, group=variable )) +
geom_line() +
geom_point() +
scale_color_manual(values=c("total"="black","male"="red","female"="orange")) +
scale_linetype_manual(values=c("male"="solid","female"="solid","total"="dashed")) +
scale_x_discrete(breaks = wbagesexdata$age[c(T,F,F,F,F)]) +
ggtitle("Age-Sex Population Distribution, \n West Bengal (2011)") +
theme(plot.title = element_text(hjust = 0.5))
linefig
linefig <- ggplot(mdf, aes( x=age, y=value, colour=variable, group=variable )) +
geom_line() +
geom_point() +
scale_color_manual(values=c("total"="black","male"="red","female"="orange")) +
scale_linetype_manual(values=c("total"="dashed", "male"="solid","female"="solid")) +
scale_x_discrete(breaks = wbagesexdata$age[c(T,F,F,F,F)]) +
ggtitle("Age-Sex Population Distribution, \n West Bengal (2011)") +
xlab("Population") + ylab("Age") +
theme(plot.title = element_text(hjust = 0.5))
linefig
linefig <- ggplot(mdf, aes( x=age, y=value, colour=variable, group=variable )) +
geom_line() +
geom_point() +
scale_color_manual(values=c("total"="black","male"="red","female"="orange")) +
scale_linetype_manual(values=c("total"="dashed", "male"="solid","female"="solid")) +
scale_x_discrete(breaks = wbagesexdata$age[c(T,F,F,F,F)]) +
ggtitle("Age-Sex Population Distribution, \n West Bengal (2011)") +
xlab("Population") + ylab("Age") +
theme(plot.title = element_text(hjust = 0.5))
linefig
mdf
class(mdf$age)
levels(mdf$age)
linefig <- ggplot(mdf, aes( x=age, y=value, colour=variable, group=variable )) +
geom_line() +
geom_point() +
scale_color_manual(values=c("total"="black","male"="red","female"="orange")) +
scale_linetype_manual(values=c("total"="dashed", "male"="solid","female"="solid")) +
scale_x_discrete(breaks = wbagesexdata$age[c(T,F,F,F,F)]) +
ggtitle("Age-Sex Population Distribution, \n West Bengal (2011)") +
xlab("Population") + ylab("Age") +
theme(plot.title = element_text(hjust = 0.5))
linefig
wbagesexdata
head(wbagesexdata)
malefemale <- wbagesexdata[,c(1,3,4)]
head(malefemale)
meltmf <- melt(malefemale, id.vars = "age")
head(meltmf)
meltmf
malefemale <- wbagesexdata[,c(1,3,4)]
meltmf <- melt(malefemale, value.name = "Population", variable.name = "Gender", id.vars = "age")
pyr <- ggplot(meltmf, aes(x = age, y = Population, fill = Gender)) +
geom_bar(subset = .(Gender == "Female"), stat = "identity") +
geom_bar(subset = .(Gender == "Male"), stat = "identity") +
scale_y_continuous(breaks = seq(-15000000, 15000000, 5000000),
labels = paste0(as.character(c(seq(15, 0, -5), seq(5, 15, 5))), "m")) +
coord_flip() +
scale_fill_brewer(palette = "Set1") +
theme_bw()
library(plyr)
malefemale <- wbagesexdata[,c(1,3,4)]
meltmf <- melt(malefemale, value.name = "Population", variable.name = "Gender", id.vars = "age")
pyr <- ggplot(meltmf, aes(x = age, y = Population, fill = Gender)) +
geom_bar(subset = .(Gender == "Female"), stat = "identity") +
geom_bar(subset = .(Gender == "Male"), stat = "identity") +
scale_y_continuous(breaks = seq(-15000000, 15000000, 5000000),
labels = paste0(as.character(c(seq(15, 0, -5), seq(5, 15, 5))), "m")) +
coord_flip() +
scale_fill_brewer(palette = "Set1") +
theme_bw()
pyr
library(plyr)
malefemale <- wbagesexdata[,c(1,3,4)]
df<-malefemale
names(df) <- c("Age", "Male", "Female")
cols <- 2:3
df[,cols] <- apply(df[,cols], 2, function(x) as.numeric(as.character(gsub(",", "", x))))
df <- df[df$Age != 'Total', ]
df$Male <- -1 * df$Male
df$Age <- factor(df$Age, levels = df$Age, labels = df$Age)
df.melt <- melt(df,
value.name='Population',
variable.name = 'Gender',
id.vars='Age' )
pyr <- ggplot(df.melt, aes(x = age, y = Population, fill = Gender)) +
geom_bar(subset = .(Gender == "Female"), stat = "identity") +
geom_bar(subset = .(Gender == "Male"), stat = "identity") +
scale_y_continuous(breaks = seq(-15000000, 15000000, 5000000),
labels = paste0(as.character(c(seq(15, 0, -5), seq(5, 15, 5))), "m")) +
coord_flip() +
scale_fill_brewer(palette = "Set1") +
theme_bw()
pyr
pyr <- ggplot(df.melt, aes(x = Age, y = Population, fill = Gender)) +
geom_bar(subset = .(Gender == "Female"), stat = "identity") +
geom_bar(subset = .(Gender == "Male"), stat = "identity") +
scale_y_continuous(breaks = seq(-15000000, 15000000, 5000000),
labels = paste0(as.character(c(seq(15, 0, -5), seq(5, 15, 5))), "m")) +
coord_flip() +
scale_fill_brewer(palette = "Set1") +
theme_bw()
pyr
pyr <- ggplot(nigeria, aes(x = Age, y = Population, fill = Gender)) +
geom_bar(subset = .(Gender == "Female"), stat = "identity") +
geom_bar(subset = .(Gender == "Male"), stat = "identity") +
scale_y_continuous(breaks = seq(-15000000, 15000000, 5000000),
labels = paste0(as.character(c(seq(15, 0, -5), seq(5, 15, 5))), "m")) +
coord_flip() +
scale_fill_brewer(palette = "Set1") +
theme_bw()
pyr <- ggplot(df.melt, aes(x = Age, y = Population, fill = Gender)) +
geom_bar(subset = .(Gender == "Female"), stat = "identity") +
geom_bar(subset = .(Gender == "Male"), stat = "identity") +
scale_y_continuous(breaks = seq(-15000000, 15000000, 5000000),
labels = paste0(as.character(c(seq(15, 0, -5), seq(5, 15, 5))), "m")) +
coord_flip() +
scale_fill_brewer(palette = "Set1") +
theme_bw()
pyr
library(pyramid)
pyramid(malefemale,Llab="Males", Rlab="Females", Clab="Age (lbd)",main = "2015")
malefemale
malefemale <- wbagesexdata[,c(3,4,1)]
head(malefemale)
library(pyramid)
pyramid(malefemale,Llab="Males", Rlab="Females", Clab="Age (lbd)",main = "2015")
pyramid(malefemale,Llab="Males", Rlab="Females", Clab="Age (lbd)",main = "2015", Csize = 5)
pyramid(malefemale,Llab="Males", Rlab="Females", Clab="Age (lbd)",main = "2015", Csize = 1)
pyramid(malefemale,Llab="Males", Rlab="Females", Clab="Age (lbd)",main = "2015", Cstep = 5)
pyramid(malefemale,Llab="Males", Rlab="Females", Clab="Age (lbd)",main = "Single-year Age Population Pyramid \n West Bengal, 2011", Cstep = 5)
